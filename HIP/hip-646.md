---
hip: 646
title: Fungible Token Metadata Field
author: May Chan (@rocketmay)
working-group: Michael Tinker (@tinker-michaelj), Ashe Oro (@Ashe-Oro), Michael Garber (@mgarbs)
type: Standards Track
category: Service
needs-council-approval: Yes
status: Review
created: 2023-01-04
discussions-to: https://github.com/hashgraph/hedera-improvement-proposal/discussions/627
updated: 2023-01-04, 2023-01-05, 2023-01-09
---

## Abstract

This HIP proposes the addition of the metadata field to Fungible Tokens (FT), taking after the Non-Fungible Token (NFT) metadata field which was added in HIP-17. While HIP-17 metadata is scoped to a single NFT, here we propose adding metadata scoped to an entire token type.

## Motivation

Similar to NFT's on the network, the fungible token implementation is largely functional. There is a need for a token creator to specify additional "metadata" about the token. The data and formatting is explored in HIP-405 but there is no field suitable for storing the link to this metadata. 

The most 'logical' field proposed to store this data is the existing 'memo' field, however a dedicated metadata field is more appropriate.

## Rationale

The success of HIP-412 in standardizing the NFT space on Hedera demonstrates the potential of standardized metadata functionality for FT's. Wallets, explorers and other applications can display relevant supplementary information about tokens to users in a decentralized fashion.

## User stories

As a token creator, I want a platform-standardized method to host information about my token in a decentralized fashion, allowing applications to query data such as token icon and website.

As a wallet or explorer, I want to query a mirror node to obtain the metadata for any fungible token, similar to current non-fungible token calls, to simplify calls and implementation. Mirror nodes currently return metadata for individual NFTs; but for fungible token types, we want to get **token-level** metadata.

As a developer, I want to store the metadata uri in a dedicated field, to avoid ambiguity of using an overloaded field such as 'memo'.
  
## Specification

## HAPI Changes

```
   // Retrieves the metadata of a token
   rpc getTokenInfo (Query) returns (Response);
```

### TokenCreateTransactionBody
Property `metadata` is updated at the **token-type** level for fungibles.
```
message TokenCreateTransactionBody {
   TokenID token = 1; // The token id for which to create tokens. If token does not exist, transaction results in INVALID_TOKEN_ID
   uint64 amount = 2; // Applicable to tokens of type FUNGIBLE_COMMON. The amount to mint to the Treasury Account. Amount must be a positive non-zero number represented in the lowest denomination of the token. The new supply must be lower than 2^63.
   optional bytes metadata = 3; // The metadata that is being created. Maximum allowed size of metadata is 100 bytes
}
```


### TokenUpdateTransactionBody
Property `metadata` is updated at the **token-type** level for fungibles.
```
message TokenUpdateTransactionBody {
   TokenID token = 1; // The token id for which to create tokens. If token does not exist, transaction results in INVALID_TOKEN_ID
   uint64 amount = 2; // Applicable to tokens of type FUNGIBLE_COMMON. The amount to mint to the Treasury Account. Amount must be a positive non-zero number represented in the lowest denomination of the token. The new supply must be lower than 2^63.
   optional string metadata = 3; // The metadata string that is being created. Maximum allowed size of metadata is 100 bytes
}
```
For sdk implementation:

1. Add a new field to [`TokenCreateTransactionBody`](https://github.com/hashgraph/hedera-protobufs/blob/main/services/token_create.proto),
```
message TokenCreateTransactionBody {
    ...
     /**
     * The token metadata, limited to a UTF-8 encoding of no more than 100 bytes;
     * will usually be a URI to a complete description (as NFT metadata generally
     * just links to a HIP-412 compliant JSON document)
     */
    string metadata = 23;
}
```

2. Permit updates by adding a new field to [`TokenUpdateTransactionBody`](https://github.com/hashgraph/hedera-protobufs/blob/main/services/token_update.proto),
```
message TokenUpdateTransactionBody {
    ...
    /**
     * If set, the token's new metadata (UTF-8 encoding max 100 bytes)
     */
    google.protobuf.StringValue metadata = 16;
}
```

3. Support getting the metadata directly from consensus nodes as you already mentioned in the [`getTokenInfo` response](https://github.com/hashgraph/hedera-protobufs/blob/main/services/token_get_info.proto),
```
message TokenInfo {
    ...
    /**
     * The token's metadata, if any.
     */
    string metadata = 27;
}
```

## Backwards Compatibility

This HIP adds functionality and does not affect other services.

## Security Implications

There are no additional security implications for the addition of metadata to FT's that are different from NFT metadata.

## How to Teach This

The Hedera documentation should be updated to reflect the new field. Specific education on metadata contents and formatting is out of scope. 

## Reference Implementation

The reference implementation must be complete before any HIP is given the status of “Final”. The final implementation must include test code and documentation.

## Rejected Ideas

Using the existing 'memo' field to store metadata was a suggestion that would not require a HIP. This was rejected by the community in favour of a clearly defined, dedicated field.

## Open Issues

While a HIP is in draft, ideas can come up which warrant further discussion. Those ideas should be recorded so people know that they are being thought about but do not have a concrete resolution. This helps make sure all issues required for the HIP to be ready for consideration are complete and reduces people duplicating prior discussions.

## References

A collections of URLs used as references through the HIP.

https://hips.hedera.com/hip/hip-17 - Non-Fungible Tokens
https://hips.hedera.com/hip/hip-405 - Fungible Token Metadata JSON Schema
https://hips.hedera.com/hip/hip-412 - NFT Token Metadata JSON Schema

## Copyright/license

This document is licensed under the Apache License, Version 2.0 -- see [LICENSE](../LICENSE) or (https://www.apache.org/licenses/LICENSE-2.0)
